10 WIDTH 80:PALETTE 0,8:PALETTE 8,63:CLS 1
11 POKE &HD7C0,0:POKE &HD816,&H14
100 PRINT "MACRO ASSEMBLER": PRINT "(C) 1982 BY THE MICRO WORKS"
110 GOTO 130 'THIS IS NECESSARY
120 GOTO 140
130 PCLEAR 6:GOTO 120
140 F=(PEEK(188)-14)*256
150 IF F<0 THEN F=0
160 LOADM"AS%/BIN",F
161 POKE 3833,141
162 POKE 3853,130
163 POKE 3822,73
170 A$="THE MICRO WORKS"+CHR$(13)
180 V=VAPTR(A$):V1=INT(V//256)
190 POKE &HE04+F,V1
200 POKE &HE05+F,V-V1*256
210 R$="0"+CHR$(66)+CHR$(1)+CHR$(32)+"R"+CHR$(0)
220 LINE INPUT "INPUT FILE? ";I$
230 LINE INPUT "BINARY FILE? ";O$
240 I$=I$+CHR$(0)+O$
250 INPUT "OPTIONS";O$
260 P$=I$+CHR$(0)+O$+CHR$(0)+R$
270 DEF USR1=&H0E00+F
280 E1=USR1(P$)
290 PRINT"ASSEMBLY ";:IF E1<>0 THEN PRINT"ABORTED" ELSE PRINT"DONE"
300 END
